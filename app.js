const express = require('express');
const app = express();
const CryptoJS = require('crypto-js');
const { S3Client,ListBucketsCommand,PutObjectCommand,GetObjectCommand } = require('@aws-sdk/client-s3');
const { getSignedUrl }  = require("@aws-sdk/s3-request-presigner");
const path = require('path');

// Set up AWS credentials
const multer  = require('multer');
const multerS3 = require('multer-s3');
const credentials = {
  accessKeyId: '9bvznd1zdigsT5jF',
  secretAccessKey: 'ODT8QVn4xNtvhjruEXqfwyLFnzrSozIfL5ieubsk'
};

// Create an S3 client instance
const s3 = new S3Client({
  region: "global",
  endpoint: "https://s3.tebi.io",
  credentials
});
// const upload = multer({
//   storage: multerS3({
//     s3,
//     bucket: "cloud-eu1-storage-p0-clds3.playtunes.ml",
//     acl: 'public-read',
//     contentType: multerS3.AUTO_CONTENT_TYPE,
//     key: function (req, file, cb) {
//       const ext = file.originalname.split('.').pop();
//       cb(null, `${CryptoJS.SHA256(Date.now()+'-'+ file.originalname).toString()}-${file.originalname}.${ext}}`);
//     },
//     metadata: function (req, file, cb) {
//       cb(null, { fieldName: file.fieldname });
//     }
//   }),
//   limits: {
//     fieldSize: 1000 * 1024 * 1024, // 1GB limit
//     fileSize: 5000 * 1024 * 1024 // 5GB limit
//   }
// });

app.get('/', (req, res) => {
  res.set('Content-Type', 'text/html');
  res.send(`
  <!DOCTYPE html>
  <html>
  <head>
  <meta charset="UTF-8" />
  <meta name="description" content="" />
  <meta name="keywords" content="" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CloudS3</title>
  <link rel="stylesheet" href="https://cloud-eu1-storage-p0-clds3.playtunes.ml/static/public-style-app.css">
  <script src="https://cloud-eu1-storage-p0-clds3.playtunes.ml/static/service-app.kjs"></script>
  </head>
<body>
  <nav class="sidebar close">
    <header>
      <div class="image-text">
        <span class="image">
          <img
            src="https://ucarecdn.com/634cc471-9b82-48bc-bf9e-5e53e2969fbe/Group4sdsds.svg"
            alt=""
          />
        </span>

        <div class="text logo-text">
          <span class="name">CloudS3</span>
        </div>
      </div>

      <i class="toggle">
        <svg
          width="20"
          height="20"
          viewBox="0 0 100 100"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M30.0781 5.96093C31.1172 5.99218 32.1016 6.42968 32.8281 7.17187L72.8281 47.1719C74.3906 48.7344 74.3906 51.2656 72.8281 52.8281L32.8281 92.8281C31.8281 93.875 30.3359 94.2969 28.9297 93.9297C27.5312 93.5625 26.4375 92.4687 26.0703 91.0703C25.7031 89.6641 26.125 88.1719 27.1719 87.1719L64.3438 50L27.1719 12.8281C25.9922 11.6797 25.6328 9.92187 26.2734 8.39843C26.9219 6.88281 28.4297 5.91406 30.0781 5.96093Z"
            fill="black"
          />
        </svg>
      </i>
    </header>

    <div class="menu-bar">
      <div class="menu">
        <ul class="menu-links">
          <li class="nav-link nav-active">
            <a href="#">
              <i class="icon">
                <svg
                  width="38"
                  height="38"
                  viewBox="0 0 38 38"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <mask id="path-1-inside-1_139_30" fill="white">
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M19.7893 5.24371C19.3133 4.91876 18.6867 4.91876 18.2107 5.24371L5.6107 13.8447C5.22858 14.1055 5 14.5383 5 15.001V31.6C5 32.3732 5.6268 33 6.4 33H13.4C14.1732 33 14.8 32.3732 14.8 31.6V23.3669C14.8 22.5937 15.4268 21.9669 16.2 21.9669H21.8C22.5732 21.9669 23.2 22.5937 23.2 23.3669V31.6C23.2 32.3732 23.8268 33 24.6 33H31.6C32.3732 33 33 32.3732 33 31.6V15.001C33 14.5383 32.7714 14.1055 32.3893 13.8447L19.7893 5.24371Z"
                    />
                  </mask>
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M19.7893 5.24371C19.3133 4.91876 18.6867 4.91876 18.2107 5.24371L5.6107 13.8447C5.22858 14.1055 5 14.5383 5 15.001V31.6C5 32.3732 5.6268 33 6.4 33H13.4C14.1732 33 14.8 32.3732 14.8 31.6V23.3669C14.8 22.5937 15.4268 21.9669 16.2 21.9669H21.8C22.5732 21.9669 23.2 22.5937 23.2 23.3669V31.6C23.2 32.3732 23.8268 33 24.6 33H31.6C32.3732 33 33 32.3732 33 31.6V15.001C33 14.5383 32.7714 14.1055 32.3893 13.8447L19.7893 5.24371Z"
                    fill="url(#paint0_linear_139_30)"
                  />
                  <path
                    d="M6.24214 14.7697L18.8421 6.16874L17.5793 4.31868L4.97926 12.9196L6.24214 14.7697ZM6.12 31.6V15.001H3.88V31.6H6.12ZM13.4 31.88H6.4V34.12H13.4V31.88ZM15.92 31.6V23.3669H13.68V31.6H15.92ZM16.2 23.0869H21.8V20.8469H16.2V23.0869ZM22.08 23.3669V31.6H24.32V23.3669H22.08ZM31.6 31.88H24.6V34.12H31.6V31.88ZM31.88 15.001V31.6H34.12V15.001H31.88ZM19.1579 6.16874L31.7579 14.7697L33.0207 12.9196L20.4207 4.31868L19.1579 6.16874ZM34.12 15.001C34.12 14.1682 33.7086 13.3892 33.0207 12.9196L31.7579 14.7697C31.8343 14.8219 31.88 14.9084 31.88 15.001H34.12ZM31.6 34.12C32.9918 34.12 34.12 32.9918 34.12 31.6H31.88C31.88 31.7547 31.7546 31.88 31.6 31.88V34.12ZM22.08 31.6C22.08 32.9918 23.2082 34.12 24.6 34.12V31.88C24.4454 31.88 24.32 31.7547 24.32 31.6H22.08ZM21.8 23.0869C21.9546 23.0869 22.08 23.2123 22.08 23.3669H24.32C24.32 21.9752 23.1918 20.8469 21.8 20.8469V23.0869ZM15.92 23.3669C15.92 23.2123 16.0454 23.0869 16.2 23.0869V20.8469C14.8082 20.8469 13.68 21.9752 13.68 23.3669H15.92ZM13.4 34.12C14.7918 34.12 15.92 32.9918 15.92 31.6H13.68C13.68 31.7547 13.5546 31.88 13.4 31.88V34.12ZM3.88 31.6C3.88 32.9918 5.00824 34.12 6.4 34.12V31.88C6.24536 31.88 6.12 31.7547 6.12 31.6H3.88ZM18.8421 6.16874C18.9373 6.10375 19.0627 6.10375 19.1579 6.16874L20.4207 4.31868C19.5639 3.73377 18.4361 3.73377 17.5793 4.31868L18.8421 6.16874ZM4.97926 12.9196C4.29144 13.3892 3.88 14.1682 3.88 15.001H6.12C6.12 14.9084 6.16572 14.8219 6.24214 14.7697L4.97926 12.9196Z"
                    fill="url(#paint1_linear_139_30)"
                    mask="url(#path-1-inside-1_139_30)"
                  />
                  <defs>
                    <linearGradient
                      id="paint0_linear_139_30"
                      x1="28.2105"
                      y1="11.2632"
                      x2="-3.10526"
                      y2="38.5263"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop />
                      <stop offset="1" stop-opacity="0.28" />
                    </linearGradient>
                    <linearGradient
                      id="paint1_linear_139_30"
                      x1="26.7368"
                      y1="10.5263"
                      x2="-22.2632"
                      y2="48.8421"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop />
                      <stop
                        offset="1"
                        stop-color="#F2F2F2"
                        stop-opacity="0.943148"
                      />
                      <stop offset="1" stop-color="white" stop-opacity="0.94" />
                    </linearGradient>
                  </defs>
                </svg>
              </i>
              <span class="text nav-text">Home</span>
            </a>
          </li>
          <li class="nav-link">
            <a href="#">
              <i class="icon"
                ><svg
                  width="38"
                  height="38"
                  viewBox="0 0 38 38"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <circle
                    cx="19.8854"
                    cy="18.6346"
                    r="15.791"
                    stroke="black"
                    stroke-width="0.312692"
                  />
                  <path
                    d="M19.729 3V2.84365H19.8854C24.0734 2.84365 28.0899 4.50734 31.0513 7.46872C34.0126 10.4301 35.6763 14.4466 35.6763 18.6346C35.6763 22.8226 34.0127 26.8391 31.0513 29.8005C28.0899 32.7619 24.0734 34.4256 19.8854 34.4256H19.729V34.2692V33.0185V32.8621H19.8854C23.797 32.8621 27.5298 31.7743 30.2774 29.0266C33.0335 26.2705 34.5819 22.5324 34.5819 18.6346C34.5819 14.7368 33.0335 10.9987 30.2774 8.24259C27.5298 5.49497 23.797 4.40712 19.8854 4.40712H19.729V4.25077V3Z"
                    fill="black"
                    stroke="black"
                    stroke-width="0.312692"
                  />
                  <path
                    d="M19.8854 3.00001C17.8322 3.00001 15.7991 3.40441 13.9023 4.19012C12.0054 4.97583 10.2818 6.12747 8.83003 7.57928C7.37823 9.03109 6.22659 10.7546 5.44088 12.6515C4.65516 14.5484 4.25076 16.5815 4.25076 18.6346C4.25076 20.6878 4.65516 22.7208 5.44088 24.6177C6.22659 26.5146 7.37823 28.2382 8.83004 29.69C10.2818 31.1418 12.0054 32.2934 13.9023 33.0791C15.7991 33.8648 17.8322 34.2692 19.8854 34.2692V32.7058C18.0375 32.7058 16.2078 32.3418 14.5006 31.6347C12.7934 30.9275 11.2422 29.8911 9.93557 28.5844C8.62894 27.2778 7.59247 25.7266 6.88533 24.0194C6.17819 22.3122 5.81422 20.4825 5.81422 18.6346C5.81422 16.7868 6.17819 14.957 6.88533 13.2498C7.59247 11.5426 8.62894 9.99144 9.93557 8.68481C11.2422 7.37819 12.7934 6.34171 14.5006 5.63457C16.2078 4.92743 18.0375 4.56347 19.8854 4.56347V3.00001Z"
                    fill="black"
                  />
                  <path
                    d="M18.6346 3.00001C16.5814 3.00001 14.5484 3.40441 12.6515 4.19012C10.7546 4.97583 9.03108 6.12747 7.57927 7.57928C6.12746 9.03109 4.97583 10.7546 4.19011 12.6515C3.4044 14.5484 3 16.5815 3 18.6346C3 20.6878 3.4044 22.7208 4.19011 24.6177C4.97583 26.5146 6.12746 28.2382 7.57927 29.69C9.03108 31.1418 10.7546 32.2934 12.6515 33.0791C14.5484 33.8648 16.5814 34.2692 18.6346 34.2692V32.7058C16.7868 32.7058 14.957 32.3418 13.2498 31.6347C11.5426 30.9275 9.99143 29.8911 8.68481 28.5844C7.37818 27.2778 6.34171 25.7266 5.63456 24.0194C4.92742 22.3122 4.56346 20.4825 4.56346 18.6346C4.56346 16.7868 4.92742 14.957 5.63456 13.2498C6.34171 11.5426 7.37818 9.99144 8.68481 8.68481C9.99143 7.37819 11.5426 6.34171 13.2498 5.63457C14.957 4.92743 16.7868 4.56347 18.6346 4.56347V3.00001Z"
                    fill="black"
                  />
                  <path
                    d="M20 3C17.9645 3 14.449 3.40092 12.5684 4.17987C10.6879 4.95881 8.97915 6.10054 7.53984 7.53984C6.10054 8.97915 4.95881 10.6879 4.17987 12.5684C3.40092 14.449 3 16.4645 3 18.5C3 20.5355 3.40092 22.551 4.17987 24.4316C4.95882 26.3121 6.10054 28.0208 7.53985 29.4602C8.97915 30.8995 10.6879 32.0412 12.5684 32.8201C14.449 33.5991 16.4645 34 18.5 34V33C16.6681 33 14.8541 32.0892 13.1616 31.3881C11.4691 30.6871 9.93124 29.6595 8.63586 28.3641C7.34048 27.0688 6.31293 25.5309 5.61188 23.8384C4.91083 22.1459 4.55 20.3319 4.55 18.5C4.55 16.6681 4.91083 14.8541 5.61188 13.1616C6.31293 11.4691 7.34048 9.93124 8.63586 8.63586C9.93124 7.34048 11.4691 6.31293 13.1616 5.61188C14.8541 4.91083 16.6681 4.55 18.5 4.55L20 3Z"
                    fill="black"
                  />
                  <path
                    d="M17.2275 16.2659L29.2662 9.6994L21.2925 20.0182L10.5046 27.5229L17.2275 16.2659Z"
                    fill="black"
                  />
                  <path
                    d="M17.2275 16.2659L29.2661 9.6994L19.0437 18.0694L10.5046 27.5229L17.2275 16.2659Z"
                    fill="url(#paint0_linear_1_39)"
                  />
                  <defs>
                    <linearGradient
                      id="paint0_linear_1_39"
                      x1="30.0479"
                      y1="2.82017"
                      x2="6.90864"
                      y2="27.8356"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stop-color="#D5D5D5" />
                      <stop offset="1" stop-color="white" stop-opacity="0" />
                    </linearGradient>
                  </defs>
                </svg>
              </i>
              <span class="text nav-text">Rediscover</span>
            </a>
          </li>

          <li class="nav-link">
            <a href="#">
              <i class="icon"
                ><svg
                  width="38"
                  height="38"
                  viewBox="0 0 38 38"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M23.9749 11.2796C24.1851 10.7896 24.8995 10.7901 25.1088 11.2805C27.4706 16.8168 30.036 19.499 35.8642 21.9689C36.3393 22.1702 36.3608 22.8519 35.9008 23.0858C30.8182 25.6707 28.3486 28.5036 25.2368 33.8908C24.9831 34.3299 24.323 34.2707 24.1447 33.796C22.1272 28.4246 19.6478 25.6941 13.3673 23.0055C12.8786 22.7963 12.8797 22.0859 13.368 21.8758C18.9274 19.4849 21.5622 16.9024 23.9749 11.2796Z"
                    fill="url(#paint0_linear_1_102)"
                  />
                  <path
                    d="M4.47891 19.5789C4.41997 19.4415 4.21968 19.4417 4.16102 19.5792C3.49888 21.1313 2.77966 21.8833 1.14571 22.5757C1.01252 22.6321 1.00649 22.8233 1.13543 22.8888C2.56035 23.6135 3.25273 24.4077 4.12514 25.9181C4.19625 26.0412 4.38131 26.0246 4.4313 25.8915C4.99692 24.3856 5.69203 23.6201 7.45278 22.8663C7.58979 22.8077 7.58949 22.6085 7.45258 22.5496C5.894 21.8793 5.15531 21.1553 4.47891 19.5789Z"
                    fill="url(#paint1_linear_1_102)"
                  />
                  <path
                    d="M11.1431 3.50078C11.2616 3.22447 11.6644 3.22475 11.7824 3.5013C13.1142 6.623 14.5607 8.13541 17.847 9.52809C18.1149 9.64161 18.127 10.026 17.8677 10.1579C15.0018 11.6154 13.6092 13.2128 11.8546 16.2505C11.7116 16.498 11.3394 16.4647 11.2388 16.197C10.1012 13.1682 8.70318 11.6286 5.16184 10.1126C4.88628 9.99464 4.88688 9.59406 5.16225 9.47563C8.29695 8.12748 9.78265 6.67127 11.1431 3.50078Z"
                    fill="url(#paint2_linear_1_102)"
                  />
                  <defs>
                    <linearGradient
                      id="paint0_linear_1_102"
                      x1="18.6378"
                      y1="3.29372"
                      x2="17.6518"
                      y2="43.7701"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop />
                      <stop offset="1" stop-color="white" />
                    </linearGradient>
                    <linearGradient
                      id="paint1_linear_1_102"
                      x1="18.6378"
                      y1="3.29372"
                      x2="17.6518"
                      y2="43.7701"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop />
                      <stop offset="1" stop-color="white" />
                    </linearGradient>
                    <linearGradient
                      id="paint2_linear_1_102"
                      x1="9.60067"
                      y1="4.12444"
                      x2="15.7513"
                      y2="17.8902"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop />
                      <stop offset="1" stop-opacity="0" />
                    </linearGradient>
                  </defs>
                </svg>
              </i>
              <span class="text nav-text">Memoirs</span>
            </a>
          </li>

          <li class="nav-link">
            <a href="#">
              <i class="icon"
                ><svg
                  width="38"
                  height="38"
                  viewBox="0 0 38 38"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M11.4772 12.5423C10.362 11.3874 8.86529 10.7355 7.26375 10.7074C5.66254 10.6793 4.14417 11.2784 2.98859 12.3935L3.9155 13.3535C4.81451 12.4861 5.99521 12.0199 7.24035 12.0418C8.48548 12.0636 9.64911 12.5709 10.5171 13.4693L11.4772 12.5423Z"
                    fill="black"
                  />
                  <path
                    d="M4.84049 14.3122L5.76806 15.2722C6.53648 14.5296 7.85657 14.5514 8.5978 15.3218L9.55911 14.3949C8.9401 13.7538 8.10893 13.3918 7.21694 13.3762C6.3256 13.3606 5.4816 13.6931 4.84049 14.3122Z"
                    fill="black"
                  />
                  <path
                    d="M13.5495 10.1134C11.9273 8.4333 9.74995 7.4849 7.42013 7.44403C5.09079 7.40318 2.88197 8.27465 1.2009 9.89683L2.54931 11.2934C3.85713 10.0316 5.57474 9.35346 7.38608 9.38523C9.19743 9.417 10.8902 10.155 12.153 11.4618L13.5495 10.1134Z"
                    fill="black"
                  />
                  <rect
                    x="4.60824"
                    y="21.2246"
                    width="31.6969"
                    height="8.34129"
                    rx="0.920176"
                    stroke="black"
                    stroke-width="1.66826"
                  />
                  <rect
                    x="4.60824"
                    y="21.2246"
                    width="31.6969"
                    height="8.34129"
                    rx="0.920176"
                    stroke="black"
                    stroke-opacity="0.2"
                    stroke-width="1.66826"
                  />
                  <rect
                    x="26"
                    y="24"
                    width="2.395"
                    height="2.395"
                    fill="black"
                  />
                  <rect
                    x="29"
                    y="24"
                    width="2.395"
                    height="2.395"
                    fill="black"
                  />
                  <rect
                    x="23"
                    y="24"
                    width="2.42732"
                    height="2.42732"
                    fill="black"
                  />
                  <rect
                    x="6.40817"
                    y="17.7564"
                    width="1.58045"
                    height="4.21455"
                    fill="black"
                  />
                  <circle cx="7.1984" cy="16.4393" r="0.790227" fill="black" />
                </svg>
              </i>
              <span class="text nav-text">Up Drives</span>
            </a>
          </li>

          <li class="nav-link">
            <a href="#">
              <i class="icon"
                ><svg
                  width="38"
                  height="38"
                  viewBox="0 0 38 38"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M27.4 35C31.5886 35 35 31.5886 35 27.4V10.68C35 6.49139 31.5886 3.08 27.4 3.08H10.68C6.49139 3.08 3.08 6.49139 3.08 10.68V27.4C3.08 31.5886 6.49139 35 10.68 35H27.4ZM19.04 31.9526C11.9036 31.9526 6.12 26.169 6.12 19.0326C6.12 11.8962 11.9036 6.11258 19.04 6.11258C26.1764 6.11258 31.96 11.8962 31.96 19.0326C31.96 26.169 26.1764 31.9526 19.04 31.9526ZM19.04 29.6726C19.876 29.6726 20.6887 29.5745 21.4684 29.3905C22.4496 29.1587 22.9157 28.0254 22.411 27.1521L21.8009 26.0967C19.7239 26.9046 17.3141 26.8128 15.2385 25.6143C13.1622 24.4158 11.885 22.3735 11.5484 20.1726H10.3163C9.31693 20.1726 8.56176 21.1298 8.84828 22.0874C10.1616 26.4741 14.2269 29.6726 19.04 29.6726ZM25.8548 26.7662C26.1952 26.7345 26.527 26.5864 26.7855 26.312C28.5783 24.4097 29.68 21.8522 29.68 19.0326C29.68 16.213 28.5783 13.6555 26.7855 11.7532C26.0961 11.0221 24.8846 11.1903 24.3823 12.0605L23.7766 13.1084C25.5148 14.503 26.64 16.6355 26.64 19.0326C26.64 21.4304 25.5103 23.557 23.7722 24.9493L24.3808 26.0047C24.6952 26.5486 25.2873 26.8189 25.8548 26.7662ZM19.1498 25.0992C19.7916 25.084 20.4263 24.9685 21.0305 24.7593L18.8203 20.9326C18.549 20.4621 18.0471 20.1726 17.5037 20.1726H13.0817C13.4032 21.8484 14.4124 23.3811 16 24.2977C16.9918 24.87 18.0802 25.1246 19.1498 25.0992ZM23.0063 23.6223C24.2967 22.5058 25.12 20.8657 25.12 19.0326C25.12 17.2002 24.2937 15.5623 23.0048 14.4459L20.7945 18.2726C20.5232 18.743 20.5232 19.3221 20.7945 19.7926L23.0063 23.6223ZM17.5052 17.8926C18.0478 17.8926 18.5505 17.603 18.8218 17.1326L21.032 13.3029C19.4193 12.7435 17.5876 12.8509 16 13.7675C14.4131 14.6833 13.4069 16.2183 13.0847 17.8926H17.5052ZM11.5424 17.8926C11.8814 15.6901 13.1644 13.6494 15.24 12.4509C17.3171 11.2516 19.7247 11.1672 21.7995 11.9759L22.411 10.913C22.9149 10.0398 22.4496 8.90641 21.4684 8.67461C20.6887 8.49069 19.876 8.39258 19.04 8.39258C14.2269 8.39258 10.1616 11.591 8.84828 15.9777C8.56176 16.9353 9.31617 17.8926 10.3163 17.8926H11.5424Z"
                    fill="url(#paint0_linear_1_63)"
                  />
                  <defs>
                    <linearGradient
                      id="paint0_linear_1_63"
                      x1="35"
                      y1="35"
                      x2="-36"
                      y2="-28.5"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop offset="0.199636" />
                      <stop offset="1" stop-color="white" stop-opacity="0" />
                    </linearGradient>
                  </defs>
                </svg>
              </i>
              <span class="text nav-text">Settings</span>
            </a>
          </li>

          <li class="nav-link">
            <a href="#">
              <i class="icon">
                <svg
                  width="38"
                  height="38"
                  viewBox="0 0 38 38"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M30.5797 6.65637C30.6722 6.44067 30.9867 6.44089 31.0788 6.65678C32.1184 9.09377 33.2477 10.2745 35.8132 11.3617C36.0223 11.4503 36.0318 11.7504 35.8293 11.8533C33.592 12.9912 32.5049 14.2382 31.1351 16.6096C31.0235 16.8029 30.7329 16.7768 30.6544 16.5679C29.7663 14.2034 28.6749 13.0015 25.9103 11.818C25.6952 11.7259 25.6957 11.4132 25.9106 11.3207C28.3578 10.2683 29.5176 9.13146 30.5797 6.65637Z"
                    fill="url(#paint0_linear_4_185)"
                  />
                  <path
                    d="M23.129 7.72892C23.1678 7.63848 23.2996 7.63858 23.3382 7.72909C23.7741 8.75079 24.2475 9.24579 25.3231 9.7016C25.4108 9.73876 25.4148 9.86457 25.3299 9.90773C24.3919 10.3848 23.9361 10.9076 23.3619 11.9018C23.315 11.9828 23.1932 11.9719 23.1603 11.8843C22.788 10.893 22.3304 10.3891 21.1714 9.89291C21.0812 9.8543 21.0814 9.7232 21.1715 9.68444C22.1975 9.2432 22.6837 8.76659 23.129 7.72892Z"
                    fill="url(#paint1_linear_4_185)"
                  />
                  <path
                    d="M8.14679 13.0733C7.9198 13.0771 7.65383 13.103 7.34945 13.1639C6.1319 13.4075 5.64578 13.8674 5.64578 13.8674L5.63068 14.3583C5.48711 14.3877 5.20084 14.4432 5.19478 14.4446C5.0506 14.4767 4.92527 14.5658 4.84628 14.6906C4.73027 14.8752 2 19.287 2 25.4802C2 26.938 2.07629 28.3297 2.22766 29.618C2.39394 31.0305 3.4843 32.1799 4.87972 32.4124L5.90797 32.584C5.96928 32.5945 6.02954 32.5991 6.09031 32.5991C6.52451 32.5991 6.92011 32.3442 7.07755 31.9636L9.21495 27.7427C9.40333 27.3693 9.78075 27.1374 10.2 27.1374H21.4211C21.8399 27.1374 22.2178 27.3693 22.4073 27.7427L24.5274 31.928C24.7236 32.3981 25.2144 32.6707 25.7143 32.584L26.7415 32.4124C28.1363 32.1799 29.2272 31.0305 29.3935 29.618C29.5443 28.3297 29.6212 26.938 29.6212 25.4802C29.6212 19.287 26.8909 14.8752 26.7749 14.6906C26.6959 14.5658 26.5706 14.4767 26.4264 14.4446C26.4203 14.4432 26.1341 14.3877 25.9905 14.3583L25.9754 13.8674C25.9754 13.8674 25.4893 13.4075 24.2717 13.1639C23.0542 12.9203 22.4591 13.2449 22.4591 13.2449L22.349 13.7757C20.4989 13.5379 18.214 13.3269 15.8106 13.3269C13.4072 13.3269 11.1223 13.5379 9.27214 13.7757L9.16209 13.2449C9.16209 13.2449 8.82778 13.0619 8.14679 13.0733ZM23.2683 16.089C23.7257 16.089 24.0969 16.4602 24.0969 16.9176C24.0969 17.375 23.7257 17.7462 23.2683 17.7462C22.8109 17.7462 22.4397 17.375 22.4397 16.9176C22.4397 16.4602 22.8109 16.089 23.2683 16.089ZM7.54258 16.6414H8.05724C8.40803 16.6414 8.67525 16.957 8.61614 17.3028L8.546 17.7117C8.52446 17.8377 8.46192 17.9519 8.3669 18.0376L7.95798 18.4066C7.86793 18.4872 7.73133 18.4872 7.64184 18.4066L7.23292 18.0376C7.1379 17.9525 7.07536 17.8377 7.05381 17.7117L6.98368 17.3028C6.92512 16.957 7.19179 16.6414 7.54258 16.6414ZM21.611 17.7462C22.0684 17.7462 22.4397 18.1175 22.4397 18.5749C22.4397 19.0323 22.0684 19.4035 21.611 19.4035C21.1536 19.4035 20.7824 19.0323 20.7824 18.5749C20.7824 18.1175 21.1536 17.7462 21.611 17.7462ZM24.9256 17.7462C25.383 17.7462 25.7542 18.1175 25.7542 18.5749C25.7542 19.0323 25.383 19.4035 24.9256 19.4035C24.4682 19.4035 24.0969 19.0323 24.0969 18.5749C24.0969 18.1175 24.4682 17.7462 24.9256 17.7462ZM6.12484 18.0278C6.16657 18.0255 6.20892 18.028 6.25215 18.0354L6.66107 18.1055C6.78703 18.1271 6.90129 18.1896 6.98692 18.2846L7.35484 18.6936C7.43549 18.7836 7.43549 18.9202 7.35484 19.0097L6.98692 19.4186C6.90129 19.5131 6.78703 19.5762 6.66107 19.5977L6.25215 19.6668C5.90633 19.7259 5.59075 19.4597 5.59075 19.109V18.5943C5.59075 18.2874 5.83268 18.0441 6.12484 18.0278ZM9.47606 18.0278C9.76821 18.0441 10.0101 18.2863 10.0101 18.5932V19.109C10.0101 19.4597 9.69456 19.7259 9.34875 19.6668L8.93982 19.5977C8.81387 19.5762 8.6996 19.5126 8.61398 19.4175L8.24606 19.0086C8.1654 18.9186 8.1654 18.7831 8.24606 18.6936L8.61398 18.2846C8.69905 18.1896 8.81387 18.126 8.93982 18.1045L9.34875 18.0354C9.39197 18.028 9.43433 18.0255 9.47606 18.0278ZM7.80153 19.2352C7.85808 19.2352 7.91431 19.2553 7.95905 19.2956L8.36798 19.6646C8.46299 19.7497 8.52554 19.8645 8.54708 19.9905L8.61722 20.3994C8.67577 20.7452 8.40911 21.0608 8.05832 21.0608H7.54366C7.19287 21.0608 6.92565 20.7452 6.98476 20.3994L7.05489 19.9905C7.07644 19.8645 7.13898 19.7502 7.234 19.6646L7.64292 19.2956C7.68794 19.2553 7.74497 19.2352 7.80153 19.2352ZM23.2683 19.4035C23.7257 19.4035 24.0969 19.7747 24.0969 20.2321C24.0969 20.6896 23.7257 21.0608 23.2683 21.0608C22.8109 21.0608 22.4397 20.6896 22.4397 20.2321C22.4397 19.7747 22.8109 19.4035 23.2683 19.4035ZM11.9436 21.6132C12.859 21.6132 13.6009 22.3551 13.6009 23.2705C13.6009 24.1858 12.859 24.9277 11.9436 24.9277C11.0283 24.9277 10.2864 24.1858 10.2864 23.2705C10.2864 22.3551 11.0283 21.6132 11.9436 21.6132ZM19.6776 21.6132C20.5929 21.6132 21.3348 22.3551 21.3348 23.2705C21.3348 24.1858 20.5929 24.9277 19.6776 24.9277C18.7622 24.9277 18.0203 24.1858 18.0203 23.2705C18.0203 22.3551 18.7622 21.6132 19.6776 21.6132Z"
                    fill="url(#paint2_linear_4_185)"
                  />
                  <defs>
                    <linearGradient
                      id="paint0_linear_4_185"
                      x1="33.6011"
                      y1="8.77153"
                      x2="26.1624"
                      y2="15.9273"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop />
                      <stop offset="1" stop-color="white" />
                    </linearGradient>
                    <linearGradient
                      id="paint1_linear_4_185"
                      x1="24.3957"
                      y1="8.61569"
                      x2="21.277"
                      y2="11.6157"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop />
                      <stop offset="1" stop-color="white" />
                    </linearGradient>
                    <linearGradient
                      id="paint2_linear_4_185"
                      x1="4.90749"
                      y1="13.2687"
                      x2="28.1674"
                      y2="30.7137"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop />
                      <stop offset="1" stop-opacity="0.45" />
                    </linearGradient>
                  </defs>
                </svg>
              </i>
              <span class="text nav-text">Game Station</span>
            </a>
          </li>
        </ul>
      </div>

      <div class="bottom-content">
        <li class="">
          <a href="#">
            <i class="bx bx-log-out icon"></i>
            <span class="text nav-text">Logout</span>
          </a>
        </li>

        <li class="mode">
          <!-- <div class="sun-moon">
            <i class="bx bx-moon icon moon"></i>
            <i class="bx bx-sun icon sun"></i>
          </div>
          <span class="mode-text text">Dark mode</span>

          <div class="toggle-switch">
            <span class="switch"></span>
          </div> -->
          <div class="sun-moon">
            <i class="icon">
              <svg
                width="39"
                height="39"
                viewBox="0 0 79 79"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_146_78)">
                  <rect width="79" height="79" rx="39.5" fill="#0047FF" />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M0 0H79V79H0V0ZM60.608 31.6916C66.9546 33.6938 71.5561 39.6273 71.5561 46.6355C71.5561 55.2256 64.6429 62.201 56.0767 62.3015L56.0777 62.3026H55.9303L55.889 62.3026L55.8477 62.3026H40.4106H24.7435L24.7754 62.271C14.8627 61.7011 7 53.482 7 43.4265C7 33.0015 15.4511 24.5504 25.8761 24.5504C28.1828 24.5504 30.3929 24.9642 32.4362 25.7216C34.7335 20.5817 39.8908 17 45.8848 17C54.0056 17 60.5909 23.5747 60.608 31.6916ZM61.1799 38.823C65.2254 40.0992 68.1586 43.8814 68.1586 48.3486C68.1586 53.8242 63.7518 58.2706 58.2914 58.3346L58.2921 58.3353H58.1906L58.1719 58.3353L58.1532 58.3353H48.3055H39.0407H38.3188L38.3392 58.3152C32.0205 57.9519 27.0086 52.7128 27.0086 46.3032C27.0086 39.658 32.3956 34.2711 39.0407 34.2711C40.5111 34.2711 41.9199 34.5348 43.2224 35.0176C44.6867 31.7413 47.9742 29.4582 51.7948 29.4582C56.9713 29.4582 61.1689 33.6491 61.1799 38.823ZM61.4757 44.0693C64.0366 44.8773 65.8934 47.2715 65.8934 50.0994C65.8934 53.5656 63.1038 56.3802 59.6472 56.4208L59.6477 56.4212H53.3258H47.004L47.017 56.4084C43.0171 56.1784 39.8444 52.862 39.8444 48.8045C39.8444 44.5979 43.2545 41.1878 47.461 41.1878C48.3918 41.1878 49.2836 41.3548 50.1081 41.6604C51.0351 39.5864 53.1161 38.1411 55.5347 38.1411C58.8116 38.1411 61.4688 40.7941 61.4757 44.0693Z"
                    fill="#AEE2FF"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_146_78">
                    <rect width="79" height="79" rx="39.5" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </i>
          </div>
          <span class="mode-text text">CloudS3-Ark-V1</span>
        </li>
      </div>
    </div>
  </nav>

  <section class="home">
      <div class="app-container">
          <div class="main-area">
            <!-- <button class="btn-show-right-area">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"/></svg>
            </button> -->
            <!-- <button class="btn-show-left-area">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
            </button> -->
            <div class="main-area-header">
              <div class="search-wrapper" id="searchLine">
                  <svg style="margin-left:15px;"xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-search" viewBox="0 0 24 24">
                    <defs/>
                    <circle cx="11" cy="11" r="8"/>
                    <path d="M21 21l-4.35-4.35"/>
                  </svg>
              <input class="search-input" type="text" placeholder="e.g. files.doc">
              
            </div>
            </div>
            <section class="content-section">
                <span class="section-header">Up Drives</span>
                <div class="content_opt_akk">
                    <div class="card">
  
                        <svg width="57" height="57" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.875 29.375V39.1667C5.875 40.2477 6.75233 41.125 7.83333 41.125H39.1667C40.2477 41.125 41.125 40.2477 41.125 39.1667V29.375H5.875Z" fill="#78909C"/>
                      <path d="M38.1875 7.83333C38.1875 6.75233 37.3102 5.875 36.2292 5.875H10.7708C9.68983 5.875 8.8125 6.75233 8.8125 7.83333L5.875 29.375C5.875 30.456 6.75233 31.3333 7.83333 31.3333H39.1667C40.2477 31.3333 41.125 30.456 41.125 29.375L38.1875 7.83333Z" fill="#455A64"/>
                      <path d="M8.8125 31.3333H30.3542V38.1875H8.8125V31.3333Z" fill="#263238"/>
                      <path d="M10.7708 34.2708H12.7292V38.1875H10.7708V34.2708ZM14.6875 34.2708H16.6458V38.1875H14.6875V34.2708ZM18.6042 34.2708H20.5625V38.1875H18.6042V34.2708ZM22.5208 34.2708H24.4792V38.1875H22.5208V34.2708ZM26.4375 34.2708H28.3958V38.1875H26.4375V34.2708Z" fill="#FDD835"/>
                      <path d="M36.2292 34.2708C35.7098 34.2708 35.2117 34.4771 34.8444 34.8444C34.4772 35.2117 34.2708 35.7098 34.2708 36.2291C34.2708 36.7485 34.4772 37.2466 34.8444 37.6139C35.2117 37.9812 35.7098 38.1875 36.2292 38.1875C36.7485 38.1875 37.2467 37.9812 37.6139 37.6139C37.9812 37.2466 38.1875 36.7485 38.1875 36.2291C38.1875 35.7098 37.9812 35.2117 37.6139 34.8444C37.2467 34.4771 36.7485 34.2708 36.2292 34.2708Z" fill="#64DD17"/>
                        </svg>
                        <div class="card_element">
                           <span class="name_action">
                            C
                            </span>
                      
                            <div class="bar">
                              <div class="progress"></div>
                              <p id="action_used" class="Otext">0GB used out of 120GB</p>
                            </div>
                      
                        </div>
                  </div>
                  <div class="card">
  
                      <svg width="57" height="57" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.875 29.375V39.1667C5.875 40.2477 6.75233 41.125 7.83333 41.125H39.1667C40.2477 41.125 41.125 40.2477 41.125 39.1667V29.375H5.875Z" fill="#78909C"/>
                    <path d="M38.1875 7.83333C38.1875 6.75233 37.3102 5.875 36.2292 5.875H10.7708C9.68983 5.875 8.8125 6.75233 8.8125 7.83333L5.875 29.375C5.875 30.456 6.75233 31.3333 7.83333 31.3333H39.1667C40.2477 31.3333 41.125 30.456 41.125 29.375L38.1875 7.83333Z" fill="#455A64"/>
                    <path d="M8.8125 31.3333H30.3542V38.1875H8.8125V31.3333Z" fill="#263238"/>
                    <path d="M10.7708 34.2708H12.7292V38.1875H10.7708V34.2708ZM14.6875 34.2708H16.6458V38.1875H14.6875V34.2708ZM18.6042 34.2708H20.5625V38.1875H18.6042V34.2708ZM22.5208 34.2708H24.4792V38.1875H22.5208V34.2708ZM26.4375 34.2708H28.3958V38.1875H26.4375V34.2708Z" fill="#FDD835"/>
                    <path d="M36.2292 34.2708C35.7098 34.2708 35.2117 34.4771 34.8444 34.8444C34.4772 35.2117 34.2708 35.7098 34.2708 36.2291C34.2708 36.7485 34.4772 37.2466 34.8444 37.6139C35.2117 37.9812 35.7098 38.1875 36.2292 38.1875C36.7485 38.1875 37.2467 37.9812 37.6139 37.6139C37.9812 37.2466 38.1875 36.7485 38.1875 36.2291C38.1875 35.7098 37.9812 35.2117 37.6139 34.8444C37.2467 34.4771 36.7485 34.2708 36.2292 34.2708Z" fill="#64DD17"/>
                      </svg>
                      <div class="card_element">
                         <span class="name_action">
                          F
                          </span>
                    
                          <div class="bar">
                            <div class="progress"></div>
                            <p id="action_used" class="Otext">0GB used out of 20GB</p>
                          </div>
                    
                      </div>
                </div>
                <div class="card">
  
                    <svg width="57" height="57" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M5.875 29.375V39.1667C5.875 40.2477 6.75233 41.125 7.83333 41.125H39.1667C40.2477 41.125 41.125 40.2477 41.125 39.1667V29.375H5.875Z" fill="#78909C"/>
                  <path d="M38.1875 7.83333C38.1875 6.75233 37.3102 5.875 36.2292 5.875H10.7708C9.68983 5.875 8.8125 6.75233 8.8125 7.83333L5.875 29.375C5.875 30.456 6.75233 31.3333 7.83333 31.3333H39.1667C40.2477 31.3333 41.125 30.456 41.125 29.375L38.1875 7.83333Z" fill="#455A64"/>
                  <path d="M8.8125 31.3333H30.3542V38.1875H8.8125V31.3333Z" fill="#263238"/>
                  <path d="M10.7708 34.2708H12.7292V38.1875H10.7708V34.2708ZM14.6875 34.2708H16.6458V38.1875H14.6875V34.2708ZM18.6042 34.2708H20.5625V38.1875H18.6042V34.2708ZM22.5208 34.2708H24.4792V38.1875H22.5208V34.2708ZM26.4375 34.2708H28.3958V38.1875H26.4375V34.2708Z" fill="#FDD835"/>
                  <path d="M36.2292 34.2708C35.7098 34.2708 35.2117 34.4771 34.8444 34.8444C34.4772 35.2117 34.2708 35.7098 34.2708 36.2291C34.2708 36.7485 34.4772 37.2466 34.8444 37.6139C35.2117 37.9812 35.7098 38.1875 36.2292 38.1875C36.7485 38.1875 37.2467 37.9812 37.6139 37.6139C37.9812 37.2466 38.1875 36.7485 38.1875 36.2291C38.1875 35.7098 37.9812 35.2117 37.6139 34.8444C37.2467 34.4771 36.7485 34.2708 36.2292 34.2708Z" fill="#64DD17"/>
                    </svg>
                    <div class="card_element">
                       <span class="name_action">
                        R
                        </span>
                  
                        <div class="bar">
                          <div class="progress"></div>
                          <p id="action_used" class="Otext">0GB used out of 20GB</p>
                        </div>
                  
                    </div>
              </div>
              <div class="card">
  
                  <svg width="57" height="57" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5.875 29.375V39.1667C5.875 40.2477 6.75233 41.125 7.83333 41.125H39.1667C40.2477 41.125 41.125 40.2477 41.125 39.1667V29.375H5.875Z" fill="#78909C"/>
                <path d="M38.1875 7.83333C38.1875 6.75233 37.3102 5.875 36.2292 5.875H10.7708C9.68983 5.875 8.8125 6.75233 8.8125 7.83333L5.875 29.375C5.875 30.456 6.75233 31.3333 7.83333 31.3333H39.1667C40.2477 31.3333 41.125 30.456 41.125 29.375L38.1875 7.83333Z" fill="#455A64"/>
                <path d="M8.8125 31.3333H30.3542V38.1875H8.8125V31.3333Z" fill="#263238"/>
                <path d="M10.7708 34.2708H12.7292V38.1875H10.7708V34.2708ZM14.6875 34.2708H16.6458V38.1875H14.6875V34.2708ZM18.6042 34.2708H20.5625V38.1875H18.6042V34.2708ZM22.5208 34.2708H24.4792V38.1875H22.5208V34.2708ZM26.4375 34.2708H28.3958V38.1875H26.4375V34.2708Z" fill="#FDD835"/>
                <path d="M36.2292 34.2708C35.7098 34.2708 35.2117 34.4771 34.8444 34.8444C34.4772 35.2117 34.2708 35.7098 34.2708 36.2291C34.2708 36.7485 34.4772 37.2466 34.8444 37.6139C35.2117 37.9812 35.7098 38.1875 36.2292 38.1875C36.7485 38.1875 37.2467 37.9812 37.6139 37.6139C37.9812 37.2466 38.1875 36.7485 38.1875 36.2291C38.1875 35.7098 37.9812 35.2117 37.6139 34.8444C37.2467 34.4771 36.7485 34.2708 36.2292 34.2708Z" fill="#64DD17"/>
                  </svg>
                  <div class="card_element">
                     <span class="name_action">
                      B
                      </span>
                
                      <div class="bar">
                        <div class="progress"></div>
                        <p id="action_used" class="Otext">0GB used out of 525GB</p>
                      </div>
                
                  </div>
            </div>
            <div class="card">
  
                <svg width="57" height="57" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5.875 29.375V39.1667C5.875 40.2477 6.75233 41.125 7.83333 41.125H39.1667C40.2477 41.125 41.125 40.2477 41.125 39.1667V29.375H5.875Z" fill="#78909C"/>
              <path d="M38.1875 7.83333C38.1875 6.75233 37.3102 5.875 36.2292 5.875H10.7708C9.68983 5.875 8.8125 6.75233 8.8125 7.83333L5.875 29.375C5.875 30.456 6.75233 31.3333 7.83333 31.3333H39.1667C40.2477 31.3333 41.125 30.456 41.125 29.375L38.1875 7.83333Z" fill="#455A64"/>
              <path d="M8.8125 31.3333H30.3542V38.1875H8.8125V31.3333Z" fill="#263238"/>
              <path d="M10.7708 34.2708H12.7292V38.1875H10.7708V34.2708ZM14.6875 34.2708H16.6458V38.1875H14.6875V34.2708ZM18.6042 34.2708H20.5625V38.1875H18.6042V34.2708ZM22.5208 34.2708H24.4792V38.1875H22.5208V34.2708ZM26.4375 34.2708H28.3958V38.1875H26.4375V34.2708Z" fill="#FDD835"/>
              <path d="M36.2292 34.2708C35.7098 34.2708 35.2117 34.4771 34.8444 34.8444C34.4772 35.2117 34.2708 35.7098 34.2708 36.2291C34.2708 36.7485 34.4772 37.2466 34.8444 37.6139C35.2117 37.9812 35.7098 38.1875 36.2292 38.1875C36.7485 38.1875 37.2467 37.9812 37.6139 37.6139C37.9812 37.2466 38.1875 36.7485 38.1875 36.2291C38.1875 35.7098 37.9812 35.2117 37.6139 34.8444C37.2467 34.4771 36.7485 34.2708 36.2292 34.2708Z" fill="#64DD17"/>
                </svg>
                <div class="card_element">
                   <span class="name_action">
                    S
                    </span>
              
                    <div class="bar">
                      <div class="progress"></div>
                      <p id="action_used" class="Otext">0GB used out of 745GB</p>
                    </div>
              
                </div>
          </div>
          <div class="card">
  
              <svg width="57" height="57" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5.875 29.375V39.1667C5.875 40.2477 6.75233 41.125 7.83333 41.125H39.1667C40.2477 41.125 41.125 40.2477 41.125 39.1667V29.375H5.875Z" fill="#78909C"/>
            <path d="M38.1875 7.83333C38.1875 6.75233 37.3102 5.875 36.2292 5.875H10.7708C9.68983 5.875 8.8125 6.75233 8.8125 7.83333L5.875 29.375C5.875 30.456 6.75233 31.3333 7.83333 31.3333H39.1667C40.2477 31.3333 41.125 30.456 41.125 29.375L38.1875 7.83333Z" fill="#455A64"/>
            <path d="M8.8125 31.3333H30.3542V38.1875H8.8125V31.3333Z" fill="#263238"/>
            <path d="M10.7708 34.2708H12.7292V38.1875H10.7708V34.2708ZM14.6875 34.2708H16.6458V38.1875H14.6875V34.2708ZM18.6042 34.2708H20.5625V38.1875H18.6042V34.2708ZM22.5208 34.2708H24.4792V38.1875H22.5208V34.2708ZM26.4375 34.2708H28.3958V38.1875H26.4375V34.2708Z" fill="#FDD835"/>
            <path d="M36.2292 34.2708C35.7098 34.2708 35.2117 34.4771 34.8444 34.8444C34.4772 35.2117 34.2708 35.7098 34.2708 36.2291C34.2708 36.7485 34.4772 37.2466 34.8444 37.6139C35.2117 37.9812 35.7098 38.1875 36.2292 38.1875C36.7485 38.1875 37.2467 37.9812 37.6139 37.6139C37.9812 37.2466 38.1875 36.7485 38.1875 36.2291C38.1875 35.7098 37.9812 35.2117 37.6139 34.8444C37.2467 34.4771 36.7485 34.2708 36.2292 34.2708Z" fill="#64DD17"/>
              </svg>
              <div class="card_element">
                 <span class="name_action">
                  T
                  </span>
            
                  <div class="bar">
                    <div class="progress"></div>
                    <p id="action_used" class="Otext">0GB used out of 100GB</p>
                  </div>
            
              </div>
        </div>
              </div>
                
            </section>
            <section class="content-section">
              <span class="section-header">Quick Access</span>
              <div class="access-links">
                <div class="access-link-wrapper">
                  <div class="access-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image">
                      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                      <circle cx="8.5" cy="8.5" r="1.5"/>
                      <polyline points="21 15 16 10 5 21"/>
                    </svg>
                  </div>
                  <span class="access-text">Images</span>
                </div>
                <div class="access-link-wrapper">
                  <div class="access-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-music">
                      <path d="M9 18V5l12-2v13"/>
                      <circle cx="6" cy="18" r="3"/>                   <circle cx="18" cy="16" r="3"/>
                    </svg>
                  </div>
                  <span class="access-text">Music</span>
                </div>
                <div class="access-link-wrapper">
                  <div class="access-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play">
                      <polygon points="5 3 19 12 5 21 5 3"/>
                    </svg>
                  </div>
                  <span class="access-text">Video</span>
                </div>
                <div class="access-link-wrapper">
                  <div class="access-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-align-left">
                      <line x1="17" y1="10" x2="3" y2="10"/>
                      <line x1="21" y1="6" x2="3" y2="6"/>
                      <line x1="21" y1="14" x2="3" y2="14"/>
                      <line x1="17" y1="18" x2="3" y2="18"/>
                    </svg>
                  </div>
                  <span class="access-text">Docs</span>
                </div>
                <div class="access-link-wrapper">
                  <div class="access-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layers">
                      <polygon points="12 2 2 7 12 12 22 7 12 2"/>
                      <polyline points="2 17 12 22 22 17"/>
                      <polyline points="2 12 12 17 22 12"/>
                    </svg>
                  </div>
                  <span class="access-text">Apps</span>
                </div>
                <div class="access-link-wrapper">
                  <div class="access-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle">
                      <circle cx="12" cy="12" r="10"/>
                      <polyline points="8 12 12 16 16 12"/>
                      <line x1="12" y1="8" x2="12" y2="16"/>
                    </svg>
                  </div>
                  <span class="access-text">Download</span>
                </div>
              </div>
            </section>
            <section class="content-section">
               <div class="section-header-wrapper">
                 <h1 class="section-header">Preview</h1>
                 <a class="section-header-link">
                   View in folders
                 </a>
               </div>
              <div class="content-section-line">
                <div class="section-part left">
                  <a class="image-wrapper">
                    <div class="image-overlay">
                      <div class="video-info">
                        <div class="video-info-text">
                          <p class="video-name medium">Happiness & Tears</p>
                          <p class="video-subtext medium">45.5 MB</p>
                        </div>
                        <button class="btn-play"></button>
                    </div>
                    </div>
                    <img src="https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2251&q=80"/>
                    <span class="video-time">10:32</span>
                  </a>
                </div>
                <div class="section-part right">
                  <div class="content-part-line">
                    <a class="image-wrapper">
                      <div class="image-overlay">
                      <div class="video-info">
                      <div class="video-info-text">
                        <p class="video-name tiny">High Hopes</p>
                        <p class="video-subtext tiny">50 MB</p>
                      </div>
                    </div>
                    </div>
                    <img src="https://images.unsplash.com/photo-1515552726023-7125c8d07fb3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2167&q=80"/>
                      <span class="video-time">02:35</span>
                  </a>
                    <a class="image-wrapper">
                      <div class="image-overlay">
                      <div class="video-info">
                      <div class="video-info-text">
                        <p class="video-name tiny">Imaginery you</p>
                        <p class="video-subtext tiny">210.2 MB</p>
                      </div>
                    </div>
                    </div>
                      <img src="https://images.unsplash.com/photo-1542359649-31e03cd4d909?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2167&q=80"/>
                      <span class="video-time">04:15</span>
                    </a>
                  </div>
                </div>
              </div>
            </section>
            <section class="content-section">
              <div class="section-header-wrapper">
                <h1 class="section-header">Recent Files</h1>
                <a class="section-header-link">
                  View all files
                </a>
              </div>
              <div class="files-table">
                <div class="files-table-header">
                  <div class="column-header table-cell">Name</div>
                  <div class="column-header table-cell size-cell">Size</div>
                  <div class="column-header table-cell">Last Modified</div>
                  <div class="column-header table-cell"></div>
                </div>
                <div class="files-table-row">
                  <div class="table-cell name-cell pdf">Brandenburg.pdf</div>
                  <div class="table-cell">42 MB</div>
                  <div class="table-cell">Aug 26, 2020</div>
                  <div class="table-cell action-cell">
                    <button class="more-action"></button>
                  </div>
                </div>
                <div class="files-table-row">
                  <div class="table-cell name-cell jpg">TheLionsRoar.jpg</div>
                  <div class="table-cell size-cell">500 KB</div>
                  <div class="table-cell">Aug 26, 2020</div>
                  <div class="table-cell action-cell">
                    <button class="more-action"></button>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
        <script>
        
        $(document).ready(function () {
  $("a#pageLink").click(function () {
    $("a#pageLink").removeClass("active");
    $(this).addClass("active");
  });
  
  $(".btn-show-left-area").click(function () {
    $(".left-area").removeClass("show");
    $(".left-area").addClass("show");
  });
  
  $(".btn-show-right-area").click(function () {
    $(".right-area").removeClass("show");
    $(".right-area").addClass("show");
  });
  
  $(".btn-close-right").click(function () {
    $(".right-area").removeClass("show");
  });
  
  $(".btn-close-left").click(function () {
    $(".left-area").removeClass("show");
  });
});

$('.main-area').scroll( function() {
    if ($('.main-area').scrollTop() >= 88) {
       $('div.main-area-header').addClass('fixed');
    }
    else {
       $('div.main-area-header').removeClass('fixed');
    }
});
</script>
  </section>
</body>

  </html>
  `);
  //  Send the css and js files
  // stylesApp1 = require('./public/public-style-app.css');
  // Scriptbase1 = require('./public/service-app.js');


});
app.get('/upload/:disk/:node_key',async(req,res)=>{
  res.set('Content-Type', 'text/html');
  res.send(`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CloudS3 Online Homies Drive</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
      </head>
      <body>
        <div class="wrapper">
          <form  action="/upload" method="post" enctype="multipart/form-data" id="upload-form">
            <input class="file-input" type="file" name="file" hidden multiple>
            <img src="https://ucarecdn.com/2c822f84-a706-4f73-815f-3accd9d8173b/" alt="Uploadgif">
            <p>Save to CloudS3</p>
          </form>
          <section class="progress-area"></section>
          <section class="uploaded-area"></section>
        </div>
        <style>
          /* Import Google font - Poppins */
          @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap');
          *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Poppins", sans-serif;
          }
          body{
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: #6990F2;
          }
          ::selection{
            color: #fff;
            background: #6990F2;
          }
          .wrapper{
            width: 430px;
            background: #fff;
            border-radius: 5px;
            padding: 30px;
            box-shadow: 7px 7px 12px rgba(0,0,0,0.05);
          }
          .wrapper header{
            color: #6990F2;
            font-size: 27px;
            font-weight: 600;
            text-align: center;
          }
          .wrapper form{
            height: 167px;
            display: flex;
            cursor: pointer;
            margin: 30px 0;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            border-radius: 5px;
            border: 2px dashed #6990F2;
          }
          form :where(i, p){
            color: #6990F2;
          }
          form i{
            font-size: 50px;
          }
          form p{
            margin-top: 15px;
            font-size: 16px;
          }
          section .row{
            margin-bottom: 10px;
            background: #E9F0FF;
            list-style: none;
            padding: 15px 20px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: space-between;
          }
          section .row i{
            color: #6990F2;
            font-size: 30px;
          }
          section .details span{
            font-size: 14px;
          }
          .progress-area .row .content{
            width: 100%;
            margin-left: 15px;
          }
          .progress-area .details{
            display: flex;
            align-items: center;
            margin-bottom: 7px;
            justify-content: space-between;
          }
          .progress-area .content .progress-bar{
            height: 6px;
            width: 100%;
            margin-bottom: 4px;
            background: #fff;
            border-radius: 30px;
          }
          .content .progress-bar .progress{
            height: 100%;
            width: 0%;
            background: #6990F2;
            border-radius: inherit;
          }
          .uploaded-area{
            max-height: 232px;
            overflow-y: scroll;
          }
          .uploaded-area.onprogress{
            max-height: 150px;
          }
          .uploaded-area::-webkit-scrollbar{
            width: 0px;
          }
          .uploaded-area .row .content{
            display: flex;
            align-items: center;
          }
          .uploaded-area .row .details{
            display: flex;
            margin-left: 15px;
            flex-direction: column;
          }
          .uploaded-area .row .details .size{
            color: #404040;
            font-size: 11px;
          }
          .uploaded-area i.fa-check{
            font-size: 16px;
          }
        </style>
        <script src="https://s3.tebi.io/cloud-eu1-storage-p0-clds3.playtunes.ml/api_code%20%281%29.js">
        </script>
      </body>
    </html>
  `);
});

app.get('/online/d/:key', async (req, res) => {
  const key = req.params.key;
  res.send(`Your disk address is ${key}`)
});
app.get('/api/v1/getfile/:bucketId', async (req, res) => {
  const bucketId = req.params.bucketId;
  const key = req.query.key;
  const credentials = {
    accessKeyId: 'KTcTQmJmJqIIDJh214y1',
    secretAccessKey: 'NTmGYzSZ5oY2LEIjzqwwCCciFwvcb4mU4RzgMzS4'
  };
  // Create an S3 client instance
  const s3Client = new S3Client({
    endpoint: "https://m4i3.par.idrivee2-43.com",
    region: "paris",
    credentials
  });

  const command = new GetObjectCommand({
    Bucket: "clds3-pari-idrv-p0-hdd",
    Key: key,
    ACL: 'public-read',
    ResponseContentDisposition: 'inline; filename="bigger.mp4"',
    ContentLengthRange: {
      min: 0,
      max: 1024 * 1024 * 80000 // 100 MB
    }
  });

  const url = await getSignedUrl(s3Client, command, { expiresIn: 3600*24 });

  res.send(url);
});
// const videojs = require('video.js');

// app.get('/api/v1/videostream', async (req, res) => {
//   const key = req.query.key;
//   if (!key) {
//     res.status(400).send('Missing key parameter');
//     return;
//   }

//   const player = videojs('videoPlayer', {
//     controls: true,
//     autoplay: false,
//     preload: 'auto',
//     sources: [{
//       src: key,
//       type: 'video/mp4'
//     }]
//   });

//   const html = `

//   `;

//   res.send(html);
// });

// app.get('api/v1/getfile/:bcktid', async (req, res) => {
//   bucket_id = req.params.bcktid;
//   const credentials = {
//     accessKeyId: 'V8td0QqC4ul9XQGPNTZh',
//     secretAccessKey: 'tIATgra7BmH0EqwQfLzUagTqYyAAzVS7Esekr0fM'
//   };
//   // Create an S3 client instance
//   const s3Client = new S3Client({
//     endpoint: "https://w6s4.sg.idrivee2-50.com",
//     region: "singapore",
//     credentials
//   });
//   const key = req.query.key;
//   const command = new GetObjectCommand({
//     Bucket: "cloudstoragesgp1idrvep0clds3",
//     Key: key,
//     ResponseContentDisposition: 'inline; filename="ForBiggerJoyrides.mp4"'
//   });

//   const url = await getSignedUrl(s3Client, command, { expiresIn: 3600*24 });

//   res.send(url);
// });

// Handle file uploads
// Handle file uploads

// async function upload_file(file) {
//     const s3Client = new S3Client({
//         endpoint: "https://s3.tebi.io",
//         region: "global",
//         credentials
//       });
//     const { originalname, buffer, mimetype } = file; // Extract necessary information from the file object
//     const upload_data = await s3Client.send(
//       new PutObjectCommand({
//         Bucket: "cloud-eu1-storage-p0-clds3.playtunes.ml",
//         Key: originalname, // Use the original file name as the key
//         Body: buffer, // Use the file buffer as the body
//         ContentType: mimetype, // Set the content type to the file mimetype,
//         ACL: 'public-read'
//       })
//     );
//     return upload_data;
// }
// app.post("/upload", upload.single("file"), async (req, res) => {
//     try {
//       if (!req.file) {
//         throw new Error("No file uploaded");
//       }
  
//       const file = req.file;
//       const file_extension = file.originalname.split(".").pop();
//       const uploadUrl = `https://s3.tebi.io/cloud-eu1-storage-p0-clds3.playtunes.ml/${file.key}.${file_extension}`;
//       res.send({ uploadUrl });
//     } catch (error) {
//       console.log('"Sorry Man Problem Occured"');
//       console.error(error);
//       res.status(500).send("Error uploading file");
//     }
// });
const upload = multer({
  storage: multerS3({
    s3,
    bucket: "cloud-eu1-storage-p0-clds3.playtunes.ml",
    acl: 'public-read',
    contentType: multerS3.AUTO_CONTENT_TYPE,
    key: function (req, file, cb) {
      const ext = file.originalname.split('.').pop();
      cb(null, `${CryptoJS.SHA256(Date.now()+'-'+ file.originalname).toString()}-${file.originalname}`);
    },
    metadata: function (req, file, cb) {
      cb(null, { fieldName: file.fieldname });
    },
    shouldTransform: function (req, file, cb) {
      cb(null, /^image/i.test(file.mimetype));
    },
    transforms: [{
      id: 'original',
      key: function (req, file, cb) {
        const ext = file.originalname.split('.').pop();
        cb(null, `${CryptoJS.SHA256(Date.now()+'-'+ file.originalname).toString()}`);
      },
      transform: function (req, file, cb) {
        cb(null, sharp().resize(800, 800));
      }
    }]
  }),
  limits: {
    fieldSize: 1000 * 1024 * 1024, // 1GB limit
    fileSize: 5000 * 1024 * 1024 // 5GB limit
  }
});
app.post('/upload', upload.single('file'), async (req, res) => {
  const command = 'putObject';
  const s3Params = {
    Bucket: process.env.AWS_BUCKET_NAME,
    Key: req.file.filename,
    ContentType: req.file.mimetype,
  };
  try {
    const signedUrl = await getSignedUrl(s3, command, { expiresIn: 3600 });
    const uploadId = await createMultipartUpload(s3, s3Params);
    const parts = await uploadMultipart(s3, req.file, uploadId);
    const result = await completeMultipartUpload(s3, s3Params, uploadId, parts);
    res.send({ signedUrl });
  } catch (error) {
    console.error(error);
    res.status(500).send('Error generating pre-signed URL');
  }
});

async function createMultipartUpload(s3, s3Params) {
  const result = await s3.createMultipartUpload(s3Params).promise();
  return result.UploadId;
}

async function uploadMultipart(s3, file, uploadId) {
  const partSize = 1024 * 1024 * 10; // 5MB
  const numParts = Math.ceil(file.size / partSize);
  const parts = [];
  for (let i = 0; i < numParts; i++) {
    const start = i * partSize;
    const end = Math.min(start + partSize, file.size);
    const partParams = {
      Body: file.buffer.slice(start, end),
      Bucket: process.env.AWS_BUCKET_NAME,
      Key: file.originalname,
      PartNumber: i + 1,
      UploadId: uploadId,
    };
    const result = await s3.uploadPart(partParams).promise();
    parts.push({ ETag: result.ETag, PartNumber: i + 1 });
  }
  return parts;
}

async function completeMultipartUpload(s3, s3Params, uploadId, parts) {
  const params = {
    Bucket: s3Params.Bucket,
    Key: s3Params.Key,
    MultipartUpload: {
      Parts: parts,
    },
    UploadId: uploadId,
  };
  const result = await s3.completeMultipartUpload(params).promise();
  return result;
}
app.listen(3000, () => {
  console.log('Server listening on port 3000');
});